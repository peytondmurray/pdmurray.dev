import { Box, Flex, Grid, Image, Center, Text, Link } from '@chakra-ui/react'

import BlackHole from './blackhole'
import Luminet from './luminet.png'

## Simulating an image of a black hole

<Grid
    gridGap="10px"
    gridTemplateColumns="repeat(3, 1fr)"
    gridTemplateRows="masonry"
    rowGap="2em"
    sx={{
        img: {
            height: '100%',
            width: '100%',
            objectFit: 'cover',
            borderRadius: '5px',
        },
    }}
>
    <Box>
        <Box>
            <Text>
                What would it look like if we could take a picture of a black
                hole? As it turns out, it looks like this.
            </Text>
            <Image
                src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4f/Black_hole_-_Messier_87_crop_max_res.jpg/1920px-Black_hole_-_Messier_87_crop_max_res.jpg"
                alt="Direct image of the black hole at the core of Messier 87."
            />
        </Box>
    </Box>
    <Box gridColumn="span 2">
        <Box>
            <Image
                src={Luminet}
                alt="J-P Luminet's famous simulated image of a black hole from his 1977 paper."
            />
            <Text>
                In 1977, nobody knew what these objects looked like. J-P Luminet
                was the first to produce a simulated image of a black hole in a
                paper published that year:
            </Text>
        </Box>
    </Box>
    <Box gridColumn="span 3" gridRow="span 3">
        <Box>
            <Text>
                I have no idea what kind of computer was used to produce this
                image, but I'm guessing Luminet used punch cards. With modern
                computers, how hard could it be to recreate this result? As it
                turns out, it's pretty tricky. Here's my effort:
            </Text>
            <Link href="https://github.com/peytondmurray/bhsim">
                <Image
                    src="https://raw.githubusercontent.com/peytondmurray/bhsim/main/blackhole.png"
                    alt="My simulated image of a black hole."
                />
            </Link>
        </Box>
    </Box>
    <Box gridColumn="span 2">
        <Box>
            <BlackHole />
            <Text>
                Here I've recreated the stippling effect used in Luminet's original figure using
                d3.js. I used rejection sampling to randomly place stipples, and then relaxed them a
                bit by moving them toward the centers of the voronoi cells using weights based on
                the brightness of the original image. To make it more performant calculations are
                done on a web worker, but it still has a terrible impact on this page's performance.
                It's also not anywhere near as pretty as the original.
            </Text>
        </Box>
    </Box>
    <Box gridColumn="span 3">
        <Link href="https://github.com/peytondmurray/bhsim" fontSize="2xl">
            Check out my repository to learn more.
        </Link>
    </Box>
</Grid>

<Box marginBottom="10%" />
